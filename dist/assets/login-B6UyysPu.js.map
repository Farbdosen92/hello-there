{"version":3,"file":"login-B6UyysPu.js","sources":["../../src/pages/login.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { supabase } from \"@/lib/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\n\nexport default function LoginPage() {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const from = (location.state as any)?.from?.pathname || \"/dashboard\";\n\n    const handleLogin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setIsLoading(true);\n        setError(null);\n\n        const { error } = await supabase.auth.signInWithPassword({\n            email,\n            password,\n        });\n\n        if (error) {\n            setError(error.message);\n            setIsLoading(false);\n        } else {\n            navigate(from, { replace: true });\n        }\n    };\n\n    const handleSignUp = async () => {\n        setIsLoading(true);\n        setError(null);\n\n        const { error } = await supabase.auth.signUp({\n            email,\n            password,\n        });\n\n        if (error) {\n            setError(error.message);\n            setIsLoading(false);\n        } else {\n            setError(\"Account created! Check your email (or proceed to dashboard if auto-confirmed).\");\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-black flex items-center justify-center p-4\">\n            <Card className=\"w-full max-w-md bg-zinc-900 border-white/10\">\n                <CardHeader className=\"space-y-1\">\n                    <CardTitle className=\"text-2xl font-bold text-white\">Severmore Admin</CardTitle>\n                    <CardDescription>Enter your credentials to access the dashboard.</CardDescription>\n                </CardHeader>\n                <CardContent>\n                    <form onSubmit={handleLogin} className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                            <Label htmlFor=\"email\">Email</Label>\n                            <Input\n                                id=\"email\"\n                                type=\"email\"\n                                placeholder=\"admin@severmore.de\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                                className=\"bg-black/50 border-white/10 text-white\"\n                                required\n                            />\n                        </div>\n                        <div className=\"space-y-2\">\n                            <Label htmlFor=\"password\">Password</Label>\n                            <Input\n                                id=\"password\"\n                                type=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                                className=\"bg-black/50 border-white/10 text-white\"\n                                required\n                            />\n                        </div>\n\n                        {error && (\n                            <div className=\"p-3 rounded-md bg-red-500/10 border border-red-500/20 text-red-400 text-sm\">{error}</div>\n                        )}\n\n                        <div className=\"flex gap-4\">\n                            <Button type=\"submit\" className=\"flex-1 bg-white text-black hover:bg-zinc-200\" disabled={isLoading}>\n                                {isLoading ? <Loader2 className=\"animate-spin\" /> : \"Sign In\"}\n                            </Button>\n                            <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                className=\"flex-1 border-white/10 text-zinc-400\"\n                                onClick={handleSignUp}\n                                disabled={isLoading}\n                            >\n                                Sign Up\n                            </Button>\n                        </div>\n                    </form>\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n"],"names":["LoginPage","email","setEmail","useState","password","setPassword","isLoading","setIsLoading","error","setError","navigate","useNavigate","from","_b","_a","useLocation","handleLogin","e","supabase","handleSignUp","jsxs","Card","CardHeader","jsx","CardTitle","CardDescription","CardContent","Label","Input","Button","Loader2"],"mappings":"kQASA,SAAwBA,GAAY,SAChC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAE,EACrC,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAS,EAAK,EAC1C,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAwB,IAAI,EAChDO,EAAWC,EAAA,EAGXC,IAAQC,GAAAC,EAFGC,EAAA,EAEM,QAAT,YAAAD,EAAwB,OAAxB,YAAAD,EAA8B,WAAY,aAElDG,EAAc,MAAOC,GAAuB,CAC9CA,EAAE,eAAA,EACFV,EAAa,EAAI,EACjBE,EAAS,IAAI,EAEb,KAAM,CAAE,MAAAD,CAAAA,EAAU,MAAMU,EAAS,KAAK,mBAAmB,CACrD,MAAAjB,EACA,SAAAG,CAAA,CACH,EAEGI,GACAC,EAASD,EAAM,OAAO,EACtBD,EAAa,EAAK,GAElBG,EAASE,EAAM,CAAE,QAAS,EAAA,CAAM,CAExC,EAEMO,EAAe,SAAY,CAC7BZ,EAAa,EAAI,EACjBE,EAAS,IAAI,EAEb,KAAM,CAAE,MAAAD,CAAAA,EAAU,MAAMU,EAAS,KAAK,OAAO,CACzC,MAAAjB,EACA,SAAAG,CAAA,CACH,EAEGI,GACAC,EAASD,EAAM,OAAO,EACtBD,EAAa,EAAK,IAElBE,EAAS,gFAAgF,EACzFF,EAAa,EAAK,EAE1B,EAEA,aACK,MAAA,CAAI,UAAU,6DACX,SAAAa,EAAAA,KAACC,EAAA,CAAK,UAAU,8CACZ,SAAA,CAAAD,EAAAA,KAACE,EAAA,CAAW,UAAU,YAClB,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAU,UAAU,gCAAgC,SAAA,kBAAe,EACpED,EAAAA,IAACE,GAAgB,SAAA,iDAAA,CAA+C,CAAA,EACpE,QACCC,EAAA,CACG,SAAAN,OAAC,QAAK,SAAUJ,EAAa,UAAU,YACnC,SAAA,CAAAI,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAG,EAAAA,IAACI,EAAA,CAAM,QAAQ,QAAQ,SAAA,QAAK,EAC5BJ,EAAAA,IAACK,EAAA,CACG,GAAG,QACH,KAAK,QACL,YAAY,qBACZ,MAAO3B,EACP,SAAWgB,GAAMf,EAASe,EAAE,OAAO,KAAK,EACxC,UAAU,yCACV,SAAQ,EAAA,CAAA,CACZ,EACJ,EACAG,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAG,EAAAA,IAACI,EAAA,CAAM,QAAQ,WAAW,SAAA,WAAQ,EAClCJ,EAAAA,IAACK,EAAA,CACG,GAAG,WACH,KAAK,WACL,MAAOxB,EACP,SAAWa,GAAMZ,EAAYY,EAAE,OAAO,KAAK,EAC3C,UAAU,yCACV,SAAQ,EAAA,CAAA,CACZ,EACJ,EAECT,GACGe,EAAAA,IAAC,MAAA,CAAI,UAAU,6EAA8E,SAAAf,EAAM,EAGvGY,EAAAA,KAAC,MAAA,CAAI,UAAU,aACX,SAAA,CAAAG,EAAAA,IAACM,EAAA,CAAO,KAAK,SAAS,UAAU,+CAA+C,SAAUvB,EACpF,SAAAA,EAAYiB,EAAAA,IAACO,EAAA,CAAQ,UAAU,cAAA,CAAe,EAAK,UACxD,EACAP,EAAAA,IAACM,EAAA,CACG,KAAK,SACL,QAAQ,UACR,UAAU,uCACV,QAASV,EACT,SAAUb,EACb,SAAA,SAAA,CAAA,CAED,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,CACJ,CAER"}