{"version":3,"file":"settings-7_DnMYWg.js","sources":["../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../src/components/ui/textarea.tsx","../../src/pages/dashboard/settings.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n];\nconst ExternalLink = createLucideIcon(\"external-link\", __iconNode);\n\nexport { __iconNode, ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","import { useEffect, useState } from \"react\";\nimport { ExternalLink, Loader2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { supabase } from \"@/lib/supabase/client\";\nimport { useAuth } from \"@/contexts/auth-context\";\n\nexport default function SettingsPage() {\n    const { user: authUser } = useAuth();\n    const [user, setUser] = useState<any>(null);\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n\n    useEffect(() => {\n        async function fetchProfile() {\n            if (!authUser) return;\n\n            const { data: profile } = await supabase\n                .from(\"users\")\n                .select(\"*\")\n                .eq(\"id\", authUser.id)\n                .single();\n\n            setUser(profile || { name: \"\", email: authUser.email, id: authUser.id });\n            setLoading(false);\n        }\n\n        fetchProfile();\n    }, [authUser]);\n\n    async function handleSave(e: React.FormEvent<HTMLFormElement>) {\n        e.preventDefault();\n        setSaving(true);\n\n        const formData = new FormData(e.currentTarget);\n        const updates = {\n            slug: formData.get(\"slug\") as string,\n            name: formData.get(\"name\") as string,\n            job_title: formData.get(\"title\") as string,\n            bio: formData.get(\"bio\") as string,\n            website: formData.get(\"website\") as string,\n            linkedin_url: formData.get(\"linkedin\") as string,\n        };\n\n        const { error } = await supabase.from(\"users\").update(updates).eq(\"id\", authUser?.id);\n\n        if (error) {\n            alert(error.message);\n        } else {\n            alert(\"Profil aktualisiert!\");\n            setUser({ ...user, ...updates });\n        }\n        setSaving(false);\n    }\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-64\">\n                <div className=\"h-6 w-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-8 max-w-4xl\">\n            <div>\n                <h1 className=\"text-3xl font-bold tracking-tight\">Einstellungen</h1>\n                <p className=\"text-zinc-500\">Verwalten Sie Ihr Profil und Integrationen.</p>\n            </div>\n\n            <form onSubmit={handleSave}>\n                <Card className=\"bg-zinc-900/50 border-white/5 mb-8\">\n                    <CardHeader>\n                        <CardTitle>Persönliches Profil</CardTitle>\n                        <CardDescription>Diese Daten erscheinen auf Ihrer digitalen Visitenkarte.</CardDescription>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"slug\">Username / Handle (für Ihre URL)</Label>\n                            <div className=\"flex gap-2\">\n                                <Input id=\"slug\" name=\"slug\" defaultValue={user?.slug} placeholder=\"fabian\" className=\"bg-black/50 border-white/10\" />\n                                {user?.slug && (\n                                    <Button type=\"button\" variant=\"outline\" size=\"icon\" asChild title=\"Profil öffnen\">\n                                        <a href={`/p/${user.slug}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                                            <ExternalLink className=\"h-4 w-4\" />\n                                        </a>\n                                    </Button>\n                                )}\n                            </div>\n                            <p className=\"text-[10px] text-zinc-500\">\n                                Ihre öffentliche URL: <code className=\"bg-white/10 px-1 rounded\">nfc.wear/p/{user?.slug || \"...\"}</code>\n                            </p>\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"name\">Name</Label>\n                            <Input id=\"name\" name=\"name\" defaultValue={user?.name} className=\"bg-black/50 border-white/10\" />\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"title\">Job Title</Label>\n                            <Input id=\"title\" name=\"title\" defaultValue={user?.job_title} className=\"bg-black/50 border-white/10\" />\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"bio\">Bio</Label>\n                            <Textarea id=\"bio\" name=\"bio\" defaultValue={user?.bio} className=\"bg-black/50 border-white/10\" />\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"website\">Webseite</Label>\n                            <Input id=\"website\" name=\"website\" defaultValue={user?.website} className=\"bg-black/50 border-white/10\" />\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"linkedin\">LinkedIn URL</Label>\n                            <Input id=\"linkedin\" name=\"linkedin\" defaultValue={user?.linkedin_url} className=\"bg-black/50 border-white/10\" />\n                        </div>\n                        <Button type=\"submit\" className=\"w-fit bg-white text-black hover:bg-zinc-200\" disabled={saving}>\n                            {saving ? <Loader2 className=\"animate-spin mr-2 h-4 w-4\" /> : null}\n                            Profil Speichern\n                        </Button>\n                    </CardContent>\n                </Card>\n            </form>\n\n            <Card className=\"bg-zinc-900/50 border-white/5 disabled opacity-60\">\n                <CardHeader>\n                    <CardTitle>Globale Integrationen (Coming Soon)</CardTitle>\n                    <CardDescription>Verbinden Sie Ihre externen Tools.</CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-6 pointer-events-none\">\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                            <Label className=\"text-base\">Salesforce CRM</Label>\n                            <p className=\"text-sm text-zinc-500\">Kontakte automatisch mit Salesforce synchronisieren.</p>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <div className=\"h-2 w-2 rounded-full bg-yellow-500\" />\n                            <span className=\"text-xs text-zinc-500 uppercase\">Ausstehend</span>\n                            <Button variant=\"outline\" size=\"sm\" className=\"ml-2 border-white/10\">\n                                Verbinden\n                            </Button>\n                        </div>\n                    </div>\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n"],"names":["__iconNode","ExternalLink","createLucideIcon","Textarea","className","props","jsx","cn","SettingsPage","authUser","useAuth","user","setUser","useState","loading","setLoading","saving","setSaving","useEffect","fetchProfile","profile","supabase","handleSave","e","formData","updates","error","jsxs","Card","CardHeader","CardTitle","CardDescription","CardContent","Label","Input","Button","Loader2"],"mappings":"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","x_google_ignoreList":[0]}